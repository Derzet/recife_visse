<!DOCTYPE html>
<html lang="en">
	<head>
	<title>Mapa</title>
		<meta charset="utf-8">
		 <meta http-equiv="X-UA-Compatible" content="IE=edge">
   		 <meta name="viewport" content="width=device-width, initial-scale=1">
		
		  <!-- Bootstrap -->
    	<link href="css/bootstrap.min.css" rel="stylesheet">
		<script src="https://d3js.org/d3.v4.min.js"></script>
		 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
		 <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
		 <script src="bairros.js"></script>
		 <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
   		 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
   		 <script src="js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="text.css">
		  <script src="heatmap.js"></script>
		  <link href="css/bootstrap-slider.css" rel="stylesheet">
		<script type="text/javascript" src="bootstrap-slider.js"></script>
		  
		    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	</head>
 
	<body>

<div class="containerText">
  <h1>Recife Visse - Doenças Aedis Egypti</h1>
  <p class="bg-primary">Veja os casos em Recife das doenças transmistida pelo Aedis Egypti.</p>
</div>

<div class="col-sm-12" id="my_styles">
	  <p class="bg-primary">Selecione a doença:</p>
     <button type="submit" class="btn btn-default" id="1" background-color:#4CAF50 >Dengue</button>
     <button type="submit" class="btn btn-default" id="2">Zika</button>
      <button type="submit" class="btn btn-default" id="3">Chikungunya</button>
</div>



  <p class="bg-primary">Filtros:</p>
<div class="dropdown">
  	<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Sexo
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1" >
  	 <li><a class="dropDownListItem" data-name="Sexo" data-extesion="Sexo" href="#">Sexo</a></li>
     <li><a class="dropDownListItem" data-name="M" data-extesion="Masculino" href="#">Masculino</a></li>
     <li><a class="dropDownListItem" data-name="F" data-extesion="Feminino" href="#">Feminino</a></li>
  </ul>
 </div>


	<div class="dropdown">
  		<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu2"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Raça
    <span class="caret"></span></button>
  <ul class="dropdown-menu"  role="menu" aria-labelledby="dropdownMenu2" >
   	<li ><a  class="dropDownListItem2" data-name="Todos" data-extesion="Todos" href="#">Todos</a></li>
  	 <li ><a  class="dropDownListItem2" data-name=1 data-extesion="Branca" href="#">branca</a></li>
     <li ><a  class="dropDownListItem2" data-name=2 data-extesion="Preta" href="#">preta</a></li>
     <li ><a class="dropDownListItem2" data-name=3 data-extesion="Amarela" href="#">amarela</a></li>
      <li ><a  class="dropDownListItem2" data-name=4 data-extesion="Parda" href="#">parda</a></li>
     <li ><a   class="dropDownListItem2" data-name=5 data-extesion="Indígena" href="#">indígena</a></li>
     <li ><a  class="dropDownListItem2" data-name=9 data-extesion="Ignorado" href="#">ignorado</a></li>
  </ul>
  </div>




	<div class="dropdown">
  		<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu4"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Gestação
    <span class="caret"></span></button>
  <ul class="dropdown-menu"  role="menu" aria-labelledby="dropdownMenu2" >
   	<li ><a  class="dropDownListItem4" data-name="0" data-extesion="Todos" href="#">Ignorar</a></li>
  	 <li ><a  class="dropDownListItem4" data-name="1" data-extesion="Gestante" href="#">Gestante</a></li>
  </div>



<div class="form-group">
  <label for="ida">Idade Mínima:</label>
  <input type="text" class="form-control" id="idadeMin" >
</div>
<div class="form-group">
  <label for="ida">Idade Maxima:</label>
  <input type="text" class="form-control" id="idadeMax" >
</div>
	

<input class="btn btn-primary" id="idadeButton" type="button" value="Filtrar idade" >

  		  <p class="bg-primary">Auxiliar o histograma:</p>
  </div>
<div class="dropdown">
  	<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Classe
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu3" >
  	 <li><a class="dropDownListItem3" data-name="Classe" data-extesion="Classe" href="#">Classe</a></li>
     <li><a class="dropDownListItem3" data-name="Raça" data-extesion="Raça" href="#">Raça</a></li>
     <li><a class="dropDownListItem3" data-name="Sexo" data-extesion="Sexo" href="#">Sexo</a></li>
      <li><a class="dropDownListItem3" data-name="Escolariedade" data-extesion="Escolariedade" href="#">Escolariedade</a></li>
        <li><a class="dropDownListItem3" data-name="Gestante" data-extesion="Gestante" href="#">Gestante</a></li>
  </ul>
 </div>



<div id="map" class="map"></div>

		</body>
		  <script>
     
		    document.getElementById("idadeMin").defaultValue = 0;
		  document.getElementById("idadeMax").defaultValue = 100;
		    var idadeMax = 100;
			var idadeMin = 0;
			var estadoSexo="Sexo";
			var estadoRaca="Todos";
			var gestante ="0"; //gestante

			initMap('#map',estadoSexo,estadoRaca,idadeMin,idadeMax,gestante);

			$('.dropDownListItem').click(function(e) {
				  var name = e.currentTarget;
				
  	  			 $('#dropdownMenu1').text(name.getAttribute("data-extesion"));
    		estadoSexo = name.getAttribute("data-name");
    		//map.remove();

    		updateMapa('#map',estadoSexo,estadoRaca,idadeMin,idadeMax,gestante);
			});


			$('.dropDownListItem2').click(function(e) {
				  var name = e.currentTarget;
  			 $('#dropdownMenu2').text(name.getAttribute("data-extesion"));
  			 estadoRaca = name.getAttribute("data-name");

  	
    		updateMapa('#map',estadoSexo,estadoRaca,idadeMin,idadeMax,gestante);
			});
			
		
			
			$('.dropDownListItem4').click(function(e) {
				  var name = e.currentTarget;
  			 $('#dropdownMenu4').text(name.getAttribute("data-extesion"));
  			 gestante = name.getAttribute("data-name");

  	
    		updateMapa('#map',estadoSexo,estadoRaca,idadeMin,idadeMax,gestante);
			});
			
		
			
			



			$('#idadeButton').on('click', function(event) {
  				event.preventDefault(); // To prevent following the link (optional)
  				idadeMin = $('#idadeMin').val();
  				idadeMax = $('#idadeMax').val();
  				updateMapa('#map',estadoSexo,estadoRaca,idadeMin,idadeMax,gestante);
  		
				});

           /* //codigo do slider
			var IdadeChange = function() {
                 idadeMin = onChangeSlider.getValue()[0];
			    idadeMax =onChangeSlider.getValue()[1];
				updateMapa('#map',estadoSexo,estadoRaca,idadeMin,idadeMax);
			
			};


			var onChangeSlider = new Slider("#sliderIdade", {
			}).on('slide', IdadeChange);
		    
	        */
				
  			</script>
</html>
